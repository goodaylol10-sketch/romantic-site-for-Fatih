<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Твой маленький мир — для него</title>
  <style>
    /* — reset */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: radial-gradient(ellipse at bottom, #050617 0%, #02030a 60%);
      color:#f4f7fb;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.35;
      overflow-x:hidden;
    }

    /* starfield canvas fills the screen behind everything */
    #starfield{position:fixed;inset:0;z-index:0}

    /* subtle gradient overlay to darken center area */
    .bg-overlay{position:fixed;inset:0;pointer-events:none;background:radial-gradient(ellipse at center, rgba(0,0,0,0) 30%, rgba(0,0,0,0.45) 100%);z-index:1}

    /* container sits above the starfield */
    .wrap{max-width:900px;margin:6vh auto;padding:32px;position:relative;z-index:2}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);backdrop-filter: blur(6px);border-radius:18px;padding:28px;box-shadow:0 6px 30px rgba(2,6,23,0.6)}

    /* header / intro */
    .intro{display:flex;gap:20px;align-items:center}
    .intro-left{flex:1}
    .dot{width:10px;height:10px;border-radius:50%;background:#ffb3c1;display:inline-block;margin-right:8px;vertical-align:middle}
    h1{font-size:28px;margin-bottom:10px;font-weight:600}
    p.lead{color:rgba(244,247,251,0.85);opacity:0.95}

    /* typewriter */
    .typewriter{font-size:20px;margin-top:14px;color:#e9f0ff;min-height:70px}
    .cursor{display:inline-block;width:2px;height:26px;background:#e9f0ff;margin-left:6px;vertical-align:middle;animation:blink 1s steps(2) infinite}
    @keyframes blink{50%{opacity:0}}

    /* photo */
    .photo-wrap{width:260px;height:260px;border-radius:14px;overflow:hidden;flex-shrink:0;border:1px solid rgba(255,255,255,0.06)}
    .photo-wrap img{width:100%;height:100%;object-fit:cover;display:block;filter:contrast(1.02) saturate(1.03)}

    /* phrases */
    .phrases{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:22px}
    .phrase{padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);font-size:15px}

    /* big quote */
    .quote{margin-top:24px;padding:22px;border-radius:14px;text-align:center;background:linear-gradient(90deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));font-size:20px}

    /* heart */
    .heart-wrap{display:flex;align-items:center;justify-content:center;margin-top:20px}
    .heart{width:90px;height:90px;position:relative;transform:scale(1);animation:breathe 2s ease-in-out infinite}
    @keyframes breathe{0%{transform:scale(0.95)}50%{transform:scale(1.07)}100%{transform:scale(0.95)}}
    .heart::before,.heart::after{content:"";position:absolute;left:22px;top:0;width:46px;height:74px;background:#ff6b81;border-radius:46px 46px 0 0;transform:rotate(-45deg)}
    .heart::after{left:0;transform:rotate(45deg)}

    /* reveal button */
    .center{display:flex;justify-content:center}
    .reveal{margin-top:18px;padding:10px 18px;border-radius:999px;border:none;background:linear-gradient(90deg,#ff8aa3,#ff5678);color:white;font-weight:600;cursor:pointer;box-shadow:0 8px 18px rgba(255,86,120,0.12);transition:transform .14s}
    .reveal:active{transform:translateY(2px)}

    /* hidden message */
    .hidden{opacity:0;transform:translateY(8px);transition:all .6s cubic-bezier(.2,.9,.2,1);text-align:center;margin-top:12px}
    .hidden.show{opacity:1;transform:translateY(0)}

    /* footer small */
    footer{margin-top:18px;text-align:center;color:rgba(244,247,251,0.55);font-size:13px}

    /* responsive */
    @media (max-width:720px){.intro{flex-direction:column}.photo-wrap{width:100%;height:220px}.phrases{grid-template-columns:1fr}.wrap{margin:4vh 16px}}

    /* small star (static) */
    .static-star{position:absolute;width:2px;height:2px;background:white;border-radius:50%;opacity:0.9;filter:blur(0.4px)}

  </style>
</head>
<body>
  <!-- starfield canvas -->
  <canvas id="starfield"></canvas>
  <div class="bg-overlay"></div>

  <main class="wrap">
    <section class="card">
      <div class="intro">
        <div class="intro-left">
          <span class="dot"></span>
          <h1>Это маленькая страница о человеке, которого я люблю — Фатих</h1>
          <p class="lead">Медленно, тихо и по-настоящему — от сердца к сердцу.</p>

          <div class="typewriter" aria-live="polite">
            <span id="typed"></span><span class="cursor" aria-hidden="true"></span>
          </div>

          <div class="phrases" id="phrases">
            <div class="phrase">Когда я думаю о тебе — мне становится спокойнее.</div>
            <div class="phrase">Твои шутки делают день легче, даже если они плохие.</div>
            <div class="phrase">Ты держишь меня, даже когда я не прошу.</div>
            <div class="phrase">С тобой — какая-то особенная тишина, которая лечит.</div>
          </div>

        </div>

        <div class="photo-wrap" aria-hidden="false">
          <!-- Замените src на вашу фотографию -->
          <img src="photo.jpg" alt="Наш момент" id="mainPhoto">
        </div>
      </div>

      <div class="quote" id="quote">Если бы можно было сложить все спасения в одну фразу — это было бы: "Спасибо, что ты есть"</div>

      <div class="heart-wrap">
        <div class="heart" role="img" aria-label="сердце"></div>
      </div>

      <div class="center">
        <button class="reveal" id="revealBtn">Нажми</button>
      </div>

      <div class="hidden" id="finalMsg"><strong>Фатих, я люблю тебя.</strong><div style="margin-top:8px;color:rgba(244,247,251,0.75);font-size:14px">— навсегда</div></div>

      <footer>Сохрани эту страницу, замени фотографию и подставь свои слова. ❤️</footer>
    </section>
  </main>

  <script>
    // ===== typewriter =====
    const lines = [
      'Иногда я закрываю глаза и вспоминаю, как ты смотришь на мир.',
      'Иногда мне хочется просто сидеть рядом и ничего не говорить.',
      'Иногда я улыбаюсь без причины — потому что подумала о тебе.'
    ];
    const typedEl = document.getElementById('typed');
    let lineIndex = 0; let charIndex = 0;

    function type() {
      const current = lines[lineIndex];
      if (charIndex <= current.length) {
        typedEl.textContent = current.slice(0, charIndex);
        charIndex++;
        setTimeout(type, 40 + Math.random()*40);
      } else {
        setTimeout(() => { backspace(); }, 1300 + Math.random()*1200);
      }
    }
    function backspace(){
      const current = lines[lineIndex];
      if (charIndex > 0) {
        charIndex--;
        typedEl.textContent = current.slice(0,charIndex);
        setTimeout(backspace, 25 + Math.random()*30);
      } else {
        lineIndex = (lineIndex+1) % lines.length;
        setTimeout(type, 400);
      }
    }
    type();

    // ===== reveal button =====
    const btn = document.getElementById('revealBtn');
    const final = document.getElementById('finalMsg');
    btn.addEventListener('click', ()=>{
      final.classList.toggle('show');
      if(final.classList.contains('show')){btn.textContent='Скрыть'}else{btn.textContent='Нажми'}
    });

    // ===== starfield (canvas) with falling meteors =====
    const canvas = document.getElementById('starfield');
    const ctx = canvas.getContext('2d');
    let w = canvas.width = innerWidth;
    let h = canvas.height = innerHeight;

    window.addEventListener('resize', ()=>{w = canvas.width = innerWidth; h = canvas.height = innerHeight;});

    // static small stars
    const stars = [];
    const STAR_COUNT = Math.floor((w*h)/8000);
    for(let i=0;i<STAR_COUNT;i++){
      stars.push({x:Math.random()*w,y:Math.random()*h,r:Math.random()*1.2,alpha:0.2+Math.random()*0.9});
    }

    // meteors array
    const meteors = [];
    function spawnMeteor(){
      const size = 1 + Math.random()*2.5;
      const startX = Math.random()*w;
      const startY = -10 - Math.random()*200;
      const speed = 6 + Math.random()*8;
      const angle = Math.PI/5 + (Math.random()*0.2 - 0.1); // falling to bottom-right
      meteors.push({x:startX,y:startY,size,speed,angle,life:0,trail:[]});
      // schedule next meteor randomly
      setTimeout(spawnMeteor, 400 + Math.random()*1500);
    }
    spawnMeteor();

    function draw(){
      ctx.clearRect(0,0,w,h);

      // draw static stars
      for(const s of stars){
        ctx.beginPath();
        ctx.globalAlpha = s.alpha*0.9;
        ctx.fillStyle = 'white';
        ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
        ctx.fill();
      }
      ctx.globalAlpha = 1;

      // draw meteors
      for(let i=meteors.length-1;i>=0;i--){
        const m = meteors[i];
        // update
        m.x += Math.cos(m.angle)*m.speed;
        m.y += Math.sin(m.angle)*m.speed;
        m.life += 1;
        m.trail.push({x:m.x,y:m.y});
        if(m.trail.length>20) m.trail.shift();

        // draw trail
        for(let t=0;t<m.trail.length;t++){
          const p = m.trail[t];
          const alpha = (t/m.trail.length)*0.6;
          ctx.beginPath();
          ctx.globalAlpha = alpha;
          ctx.fillStyle = 'rgba(255,255,255,1)';
          ctx.fillRect(p.x - m.size*0.5, p.y - m.size*0.5, m.size*1.6, m.size*0.6);
        }

        // draw head
        ctx.beginPath();
        ctx.globalAlpha = 1;
        const grd = ctx.createRadialGradient(m.x,m.y,0,m.x,m.y,12);
        grd.addColorStop(0,'rgba(255,255,255,1)');
        grd.addColorStop(0.5,'rgba(255,200,200,0.8)');
        grd.addColorStop(1,'rgba(255,200,200,0)');
        ctx.fillStyle = grd;
        ctx.arc(m.x,m.y,3+m.size,0,Math.PI*2);
        ctx.fill();

        // remove when out of screen or life too long
        if(m.x> w+50 || m.y> h+50 || m.life>220) meteors.splice(i,1);
      }

      requestAnimationFrame(draw);
    }
    draw();

    // small twinkle effect for static stars
    setInterval(()=>{
      for(const s of stars){ s.alpha = 0.2 + Math.random()*0.9; }
    }, 800);

    // ===== optional: simple drag-and-drop image replace =====
    const photo = document.getElementById('mainPhoto');
    document.body.addEventListener('dragover', e=>{e.preventDefault();});
    document.body.addEventListener('drop', e=>{
      e.preventDefault();
      const file = e.dataTransfer.files && e.dataTransfer.files[0];
      if(file && file.type.startsWith('image/')){
        const reader = new FileReader();
        reader.onload = ()=>{photo.src = reader.result;};
        reader.readAsDataURL(file);
      }
    });

    // accessibility focus
    window.addEventListener('load', ()=>{document.getElementById('revealBtn').focus();});
  </script>
</body>
</html>

